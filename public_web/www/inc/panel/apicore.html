<!--
Realizado por: Yasmin Vicuña Rondon
Fecha: 23-11-2020
Titulo: Panel de Control: APICORE
 -->

<section>

    <div class="card card-primary card-outline card-outline-tabs">
        <div class="card-header p-0 border-bottom-0">
          <ul class="nav nav-tabs" id="custom-tabs-three-tab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="home-tab" 
                data-toggle="pill" href="#home" role="tab" aria-controls="home" aria-selected="true">Listado</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="profile-tab" 
                data-toggle="pill" href="#profile" role="tab" 
                aria-controls="profile" aria-selected="false">Crear Api desde cero</a>
            </li>
            
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content" id="TabApiCore">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                <div id="jsGridApi" class="jsgrid">

                </div>
                
                
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                <form role="form" id="Api">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">    
                                                    <label>HTTP / Puerto</label>                                              
                                                    <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                        <input type="checkbox" id="chkhttp" disabled>
                                                        </span>
                                                    </div>
                                                        <select class="form-control selected" id="cmbpuertohttp" onchange="SeleccionarChk('chkhttp')">
                                                            <option value="0">SELECCIONE</option>
                                                            <option value="1">8012</option>
                                                            <option value="2">8013</option>
                                                        </select>
                                                    </div>
                                                    <!-- /input-group -->
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">    
                                                    <label>HTTPS / Puerto</label>                                              
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                        <input type="checkbox" id="chkhttps" disabled>
                                                        </span>
                                                    </div>
                                                    <select class="form-control selected" id="cmbpuertohttps" onchange="SeleccionarChk('chkhttps')">
                                                        <option value="0">SELECCIONE</option>
                                                        <option value="1">2286</option>
                                                        <option value="2">2385</option>
                                                    </select>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text"><i class="fas fa-eye"></i></span>
                                                    </div>
                                                </div>
                                                <!-- /input-group -->
                                            </div>
                                        </div>
                                            
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Tipo</label>
                                                <select id="cmbTipo" class="form-control selected">
                                                    <option value="0">SELECCIONE</option>
                                                    <option value="FILE">FILE</option>
                                                    <option value="SELECT">SELECT</option>
                                                    <option value="INSERT">INSERT</option>
                                                    <option value="UPDATE">UPDATE</option>
                                                    <option value="DELETE">DELETE</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Relacional</label>
                                                <select id="cmbRelacional" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Módulo</label>
                                                <select id="cmbModulo" class="form-control selected" onchange="ListarArchivos()">
                                                    
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">    
                                                    <label>Seleccionar archivos (opcional)</label>                                              
                                                <div class="input-group">
                                                    <select class="form-control selected" id="cmbArchivos">
                                                        <option value="0">SELECCIONE</option>
                                                        
                                                    </select>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" onclick="ProcesarArchivoHTML()"><i class="fas fa-play"></i></span>
                                                    </div>
                                                </div>
                                                <!-- /input-group -->
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="row" id="divCodigofuente">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Codigo Fuente </label>
                                                <textarea class="form-control" rows="8" id="txtCodigo" placeholder="Enter ..."></textarea>
                                                
                                            </div>
                                        </div>
                                    
                                        <div class="col-md-7"></div>
                                        <div class="col-md-5" id="duracion" style="text-align: right;">
                                            <b>Duración:</b> 00.00.00 seg &nbsp; <b>Peso:</b> 0.00 KB<hr>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Función</label>
                                                <input type="text" id="txtFuncion" class="form-control" placeholder="Enter ...">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Driver</label>
                                                <select id="cmbDriver" class="form-control selected" onchange="">
                                                    <option value="0">SELECCIONE</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Metodo</label>
                                                <select id="cmbMetodo" class="form-control selected">
                                                    <option value="GET" selected>GET</option>
                                                    <option value="POST">POST</option>
                                                    <option value="PUT">PUT</option>
                                                    <option value="DELETE">DELETE</option>
                                                    <option value="OPTIONS">OPTIONS</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Consulta / SQL / NOSQL </label>
                                                <textarea class="form-control" rows="3" id="txtConsulta" placeholder="Enter ..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label>Descripción</label>
                                                <textarea class="form-control" rows="3" id="txtDescripcion" placeholder="Enter ..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <!-- <div class="col-md-12">
                                            <div class="form-group">
                                                <label>URL Acción</label>
                                                    <textarea class="form-control" rows="3" id="txturl" placeholder="Enter ..."></textarea>
                                            </div>
                                        </div> -->
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Prioridad</label>
                                                <select id="cmbPrioridad" class="form-control selected">
                                                    <option value="0">BAJA</option>
                                                    <option value="1">MEDIA</option>
                                                    <option value="2">ALTA</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label>Consumidores</label>
                                                <input type="number" id="txtConsumidores" class="form-control" >
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Registro de Log</label>
                                                <select id="cmbLog" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Concurrente</label>
                                                <select id="cmbConcurrencia" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label>Retorno</label>
                                                <select id="cmbRetorno" class="form-control selected">
                                                    <option value=true>SI</option>
                                                    <option value=false>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <button type="button" class="btn btn-info" onclick="ApiCoreSalvar()">Aceptar</button>
                                    <button type="button" class="btn btn-default float-right">Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div> 
            <!-- Fin de tab frmapr -->
            
          </div>
        </div>
        <!-- /.card -->
      </div>

</section>



  <!-- Modal para la elaboración de formularios-->
  <div class="modal fade bs-example-modal-lg in" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="mdlApiEjecucion" aria-hidden="false">
    <div class="modal-dialog modal-lg" role="document">
    <!-- Modal contenido-->
    <div class="modal-content" >
        

        <div class="modal-header">
            <span id="_mdlTitulo">Probar API de conexión</span>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span>
            </button>

        </div>
        <div class="modal-body" id="_mdlCuerpo">
       
            <div class="row">
                <div class="col-md-12" id="divConsulta" style="display: none;">
                    <div class="form-group" >
                        <label>Consulta / SQL / URL</label>
                        <div style="width:100%; height:80px; overflow: scroll;">
                            <code id="codex" style="font-size:11px; width: 100%; height:80px;"></code>
                        </div>
                        <textarea 
                            style="display: none;"
                            class="form-control"
                            style="font-family: 'Lucida Console', Monaco, monospace;font-size: 0.7rem;line-height: 1.1;" 
                            rows="5" 
                            id="txtQuery" 
                            placeholder="Enter ..."></textarea>

                            
                    </div>
                </div>
                <div class="col-md-12" id="divParametro" style="display: none;">
                    <div class="form-group">
                        <label>Parametros</label>
                        <textarea 
                            class="form-control"
                            style="font-family: 'Lucida Console', Monaco, monospace;font-size: 0.7rem;line-height: 1.1;" 
                            rows="10" 
                            id="txtParametro"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Colección</label>
                        <input style="font-size:14px;" type="text" class="form-control"  id="txtColeccion" readonly>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="input-group mb-3">
                        <input style="font-size:14px;" type="text" class="form-control"  id="txtPath" readonly>
                        <div class="input-group-prepend">
                            <button type="button" class="btn btn-success" onclick="EjecutarAPI()"><i class="fas fa-play"></i></button>
                        </div>
                    </div>
                </div>
           
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Resultado</label>
                        <div style="width:100%; height:250px; overflow: scroll;">
                            <span id="result" style="font-size:11px; width: 100%; height: 250px;"></span>
                        </div>
                    </div>
                </div>
            </div>


        </div>
      <div class="modal-footer" id="_mdlPie">
            <textarea 
            
            class="form-control"
            style="display:none; font-family: 'Lucida Console', Monaco, monospace;font-size: 0.7rem;line-height: 1.1;" 
            rows="10" 
            id="txtDatail" 
            placeholder="Enter ..."></textarea>
      </div>
    </div>
  </div>
  </div>





<script>
    var XAP = new ApiCore();
    XAP.GenerarListado();


    CargarDrivers()
    ListarModulos()


    
</script>